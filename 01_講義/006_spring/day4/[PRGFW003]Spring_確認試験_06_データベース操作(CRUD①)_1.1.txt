■データベース操作
1.
JPAに関する説明として、誤っているものはどれか。

1. JPAは、データベースへのCRUD処理を行う際に利用する。
2. Spring Frameworkは、データベース操作を行う際にJPA以外のAPIも利用できる。
3. JPAを利用する場合、ソースコードへのSQL文の記述は必須となる。
4. JPAでは、JavaEE標準のORMの機能を提供している。

正答：3
解説：
『Spring Framework』第6章/データベース操作 JPAとは
JPAでは、CRUD処理のためのSQL分は基本的に自動で作成、実行されます。そのため、SQL文の記述は必須ではありません。
したがって、選択肢3が正解です。


■データベース操作
2.
エンティティの用途として正しいものはどれか。

1. フォームから送信されたパラメータを保管するために使用する。
2. テーブルのレコード情報を保管するために使用する。
3. テーブルへのCRUD処理を実行するために使用する。
4. データベースと接続するために使用する。

正答：2
解説：

『Spring Framework』第6章/エンティティとリポジトリの利用
エンティティには、テーブルのCRUD操作による検索結果、登録情報など（レコード情報）を保存することが主な用途となります。
したがって、選択肢2が正解です。


■データベース操作
3.
エンティティのフィールドの内、@Idアノテーションが付与されたフィールドの特徴として正しいものはどれか。

1. 数値のみ代入可能となる。
2. 定数として扱われる。
3. 各列とは対応付けられない。
4. 主キー列と対応付けられる。

正答：4
解説：
『Spring Framework』6章/エンティティとリポジトリの利用

対象のフィールドが主キーの列と対応付けられていることを表すアノテーションが「@Id」です。
したがって、選択肢4が正解です。


■データベース操作
4.
リポジトリの用途として正しいものはどれか。

1. フォームから送信されたパラメータを保管するために使用する。
2. テーブルのレコード情報を保管するために使用する。
3. テーブルへのCRUD処理を実行するために使用する。
4. データベースと接続するために使用する。

正答：3
解説：
『Spring Framework』第6章/エンティティとリポジトリの利用

リポジトリとは、テーブルへのCRUD処理を実施するためのインターフェイスのことです。
したがって、選択肢3が正解です。
なお、実際のCRUD処理はリポジトリの実装クラスが実行します。


■データベース操作
5.
以下のソースコードでは、JpaRepositoryで予め定義されている全件検索用の「findAll()」メソッドを呼び出し、その取得結果をリクエストスコープに保存している。
全件検索処理に関する説明について、正しいものを選べ。

model.addAttribute("items", repository.findAll());

1.全件検索を行うために、この「findAll()」メソッドの中身の処理をプログラマーが独自に記述する必要がある。
2.「findAll()」メソッドの取得結果をリクエストスコープに保存する場合、Modelオブジェクトの「addAttribute()」メソッドの第一引数には「"items"」と記述しなければいけない。
3.「findAll()」メソッドの実行により取得したレコードの情報が、リポジトリ―で指定したエンティティのオブジェクトに格納され、スコープに保存される。
4.「findAll()」メソッドを実行すると、エンティティの構造に関わらずテーブルの情報がすべて検索できる。


正答：3
解説 :
『Spring Framework』第6章/全件検索
JpaRepositoryで予め定義された「findAll()」メソッドは、実装者が独自の処理を作成することなくテーブルの情報を取得することができます。
また、リクエストスコープに保存するために使う変数名は任意ですので、商品情報を検索しているからと言って必ず「"items"」と記述しなければいけない訳ではありません。
※テキストでは利便性の為、このようにしています。実際の開発を想定した場合でも、このスコープ変数名が扱いやすいといえるでしょう。
全件検索用のメソッドを使用して検索結果を取得するには、予めテーブルの構造と紐づけたエンティティが必要となります。
したがって、選択肢3が正解です。


■データベース操作
6.
JpaRepositoryで定義された「getReferenceById()」メソッドが行う処理として正しいものを選べ。
1.主キー検索を行う。主キーの値が引数と一致するレコード1件を検索し、エンティティのオブジェクトに情報を格納する。
2.主キー検索を行う。主キーの値が引数と一致するレコード複数件を検索し、エンティティのオブジェクトに情報を格納する。
3.主キー検索を行う。引数に値を指定しなくても検索ができる。
4.外部キー検索を行う。検索結果は必ず1レコードになる。

正答：1
解説 :
『Spring Framework』第6章/条件検索（主キー検索）
JpaRepositoryで予め定義された「getReferenceById()」メソッドは、主キーの値が引数と一致するレコード1件のみを検索します。
そのため、引数には主キーに該当する値を指定する必要があります。したがって、選択肢1が正解です。


■データベース操作
7.
JpaRepositoryで定義された「save()」メソッドが行う処理として正しいものを選べ。

1. レコードを更新する。
2. レコードを全件検索する。
3. レコードを条件検索する。
4. レコードを削除する。

正答：1
解説 :
『Spring Framework』第7章/登録、更新

レコードを登録、更新するためのメソッドはsave()メソッドです。登録と更新では同じメソッドを利用する点に注意してください。このメソッドの引数として渡されたエンティティに関して、主キーと対応付けられたフィールドの値が既存のレコードと一致する場合は「更新」、一致しない場合は「登録」が実行されます。
したがって、選択肢1が正解です。

